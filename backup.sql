-- WARNING: This schema is for context only and is not meant to be run.-- Table order and constraints may not be valid for execution.CREATE TABLE public.activity_logs (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid,action text NOT NULL,entity_type text NOT NULL,entity_id uuid,details jsonb DEFAULT '{}'::jsonb,ip_address text,user_agent text,created_at timestamp with time zone DEFAULT now(),CONSTRAINT activity_logs_pkey PRIMARY KEY (id),CONSTRAINT activity_logs_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.anamneses (id uuid NOT NULL DEFAULT uuid_generate_v4(),user_id uuid NOT NULL,nome_completo text NOT NULL,data_nascimento date,telefone text,contato_emergencia text,pressao_alta boolean DEFAULT false,problemas_cardiacos boolean DEFAULT false,historico_convulsivo boolean DEFAULT false,diabetes boolean DEFAULT false,uso_medicamentos text,uso_antidepressivos boolean DEFAULT false,alergias text,tabaco boolean DEFAULT false,alcool boolean DEFAULT false,outras_substancias text,ja_consagrou boolean DEFAULT false,como_foi_experiencia text,intencao text,termo_responsabilidade boolean DEFAULT false,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),aceite_contraindicacoes boolean NOT NULL DEFAULT false,nome_contato_emergencia text,parentesco_contato text,sem_doencas boolean DEFAULT false,problemas_respiratorios boolean DEFAULT false,problemas_renais boolean DEFAULT false,problemas_hepaticos boolean DEFAULT false,transtorno_psiquiatrico boolean DEFAULT false,transtorno_psiquiatrico_qual text,gestante_lactante boolean DEFAULT false,tipo_antidepressivo text,cirurgias_recentes text,sem_vicios boolean DEFAULT false,tabaco_frequencia text,alcool_frequencia text,cannabis boolean DEFAULT false,quantas_vezes_consagrou text,restricao_alimentar text,aceite_livre_vontade boolean NOT NULL DEFAULT false,aceite_termo_responsabilidade boolean NOT NULL DEFAULT false,aceite_uso_imagem boolean DEFAULT false,como_conheceu text,indicado_por text,liberado_participar boolean,liberado_por text,liberado_em timestamp with time zone,aceite_permanencia boolean DEFAULT false,CONSTRAINT anamneses_pkey PRIMARY KEY (id),CONSTRAINT anamneses_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.biblioteca_usuario (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,produto_id uuid NOT NULL,pagamento_id uuid,pagina_atual integer DEFAULT 1,progresso numeric DEFAULT 0,ultima_leitura timestamp with time zone,created_at timestamp with time zone DEFAULT now(),CONSTRAINT biblioteca_usuario_pkey PRIMARY KEY (id),CONSTRAINT biblioteca_usuario_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),CONSTRAINT biblioteca_usuario_produto_id_fkey FOREIGN KEY (produto_id) REFERENCES public.produtos(id),CONSTRAINT biblioteca_usuario_pagamento_id_fkey FOREIGN KEY (pagamento_id) REFERENCES public.pagamentos(id));CREATE TABLE public.categorias_financeiras (id uuid NOT NULL DEFAULT gen_random_uuid(),nome text NOT NULL,tipo text NOT NULL CHECK (tipo = ANY (ARRAY['entrada'::text, 'saida'::text])),cor text DEFAULT '#6b7280'::text,icone text,ativo boolean DEFAULT true,created_at timestamp with time zone DEFAULT now(),CONSTRAINT categorias_financeiras_pkey PRIMARY KEY (id));CREATE TABLE public.categorias_produto (id uuid NOT NULL DEFAULT gen_random_uuid(),nome character varying NOT NULL UNIQUE,icone character varying,ordem integer DEFAULT 0,ativo boolean DEFAULT true,CONSTRAINT categorias_produto_pkey PRIMARY KEY (id));CREATE TABLE public.cerimonias (id uuid NOT NULL DEFAULT uuid_generate_v4(),data date NOT NULL,horario time without time zone NOT NULL,local text NOT NULL,descricao text,medicina_principal text,vagas integer,observacoes text,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),banner_url text,nome text,valor integer DEFAULT 0,CONSTRAINT cerimonias_pkey PRIMARY KEY (id));CREATE TABLE public.config_alertas_financeiros (id uuid NOT NULL DEFAULT gen_random_uuid(),tipo text NOT NULL CHECK (tipo = ANY (ARRAY['saldo_baixo'::text, 'meta_atingida'::text, 'despesa_alta'::text])),valor_limite integer,percentual_limite integer,ativo boolean DEFAULT true,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT config_alertas_financeiros_pkey PRIMARY KEY (id));CREATE TABLE public.config_taxas_mp (id uuid NOT NULL DEFAULT gen_random_uuid(),forma_pagamento text NOT NULL UNIQUE,nome_exibicao text NOT NULL,taxa_percentual numeric NOT NULL DEFAULT 0,parcelas integer DEFAULT 1,ativo boolean DEFAULT true,ordem integer DEFAULT 0,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT config_taxas_mp_pkey PRIMARY KEY (id));CREATE TABLE public.conversas (id uuid NOT NULL DEFAULT gen_random_uuid(),participante_1 uuid NOT NULL,participante_2 uuid NOT NULL,ultima_mensagem_at timestamp with time zone DEFAULT now(),ultima_mensagem_preview text,created_at timestamp with time zone DEFAULT now(),CONSTRAINT conversas_pkey PRIMARY KEY (id),CONSTRAINT conversas_participante_1_fkey FOREIGN KEY (participante_1) REFERENCES auth.users(id),CONSTRAINT conversas_participante_2_fkey FOREIGN KEY (participante_2) REFERENCES auth.users(id));CREATE TABLE public.cursos_eventos (id uuid NOT NULL DEFAULT gen_random_uuid(),nome text NOT NULL,descricao text,data_inicio date NOT NULL,data_fim date,horario_inicio time without time zone NOT NULL,horario_fim time without time zone,responsavel text NOT NULL,valor integer DEFAULT 0,gratuito boolean DEFAULT true,vagas integer,local text,observacoes text,banner_url text,ativo boolean DEFAULT true,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),created_by uuid,CONSTRAINT cursos_eventos_pkey PRIMARY KEY (id),CONSTRAINT cursos_eventos_created_by_fkey FOREIGN KEY (created_by) REFERENCES auth.users(id));CREATE TABLE public.depoimentos (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,cerimonia_id uuid,texto text NOT NULL,aprovado boolean DEFAULT false,created_at timestamp with time zone DEFAULT now(),approved_at timestamp with time zone,approved_by uuid,autoriza_instagram boolean DEFAULT false,CONSTRAINT depoimentos_pkey PRIMARY KEY (id),CONSTRAINT depoimentos_cerimonia_id_fkey FOREIGN KEY (cerimonia_id) REFERENCES public.cerimonias(id),CONSTRAINT depoimentos_approved_by_fkey FOREIGN KEY (approved_by) REFERENCES auth.users(id),CONSTRAINT depoimentos_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.profiles(id));CREATE TABLE public.despesas_recorrentes (id uuid NOT NULL DEFAULT gen_random_uuid(),nome text NOT NULL,categoria_id uuid,valor integer NOT NULL,dia_vencimento integer CHECK (dia_vencimento >= 1 AND dia_vencimento <= 31),ativo boolean DEFAULT true,observacoes text,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT despesas_recorrentes_pkey PRIMARY KEY (id),CONSTRAINT despesas_recorrentes_categoria_id_fkey FOREIGN KEY (categoria_id) REFERENCES public.categorias_financeiras(id));CREATE TABLE public.diario (id uuid NOT NULL DEFAULT uuid_generate_v4(),user_id uuid NOT NULL,data timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),texto text,audio_url text,imagem_url text,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),CONSTRAINT diario_pkey PRIMARY KEY (id),CONSTRAINT diario_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.ebooks_pessoais (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,titulo character varying NOT NULL,autor character varying,capa_url text,arquivo_url text NOT NULL,tipo_arquivo character varying NOT NULL,tamanho_bytes bigint,pagina_atual integer DEFAULT 1,progresso numeric DEFAULT 0,ultima_leitura timestamp with time zone,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT ebooks_pessoais_pkey PRIMARY KEY (id),CONSTRAINT ebooks_pessoais_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.faq (id uuid NOT NULL DEFAULT uuid_generate_v4(),pergunta text NOT NULL,resposta text NOT NULL,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),CONSTRAINT faq_pkey PRIMARY KEY (id));CREATE TABLE public.fechamentos_mensais (id uuid NOT NULL DEFAULT gen_random_uuid(),mes integer NOT NULL CHECK (mes >= 1 AND mes <= 12),ano integer NOT NULL,total_entradas integer NOT NULL DEFAULT 0,total_saidas integer NOT NULL DEFAULT 0,saldo integer NOT NULL DEFAULT 0,total_transacoes integer NOT NULL DEFAULT 0,transacoes_reconciliadas integer NOT NULL DEFAULT 0,status text NOT NULL DEFAULT 'aberto'::text CHECK (status = ANY (ARRAY['aberto'::text, 'em_revisao'::text, 'fechado'::text])),observacoes text,fechado_em timestamp with time zone,fechado_por uuid,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT fechamentos_mensais_pkey PRIMARY KEY (id),CONSTRAINT fechamentos_mensais_fechado_por_fkey FOREIGN KEY (fechado_por) REFERENCES auth.users(id));CREATE TABLE public.galeria (id uuid NOT NULL DEFAULT gen_random_uuid(),cerimonia_id uuid,titulo text,descricao text,tipo text NOT NULL CHECK (tipo = ANY (ARRAY['foto'::text, 'video'::text])),url text NOT NULL,thumbnail_url text,uploaded_by uuid,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT galeria_pkey PRIMARY KEY (id),CONSTRAINT galeria_cerimonia_id_fkey FOREIGN KEY (cerimonia_id) REFERENCES public.cerimonias(id),CONSTRAINT galeria_uploaded_by_fkey FOREIGN KEY (uploaded_by) REFERENCES auth.users(id));CREATE TABLE public.inscricoes (id uuid NOT NULL DEFAULT uuid_generate_v4(),user_id uuid NOT NULL,cerimonia_id uuid NOT NULL,data_inscricao timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),forma_pagamento text,pago boolean DEFAULT false,observacoes_admin text,presenca_confirmada boolean DEFAULT false,confirmado_em timestamp with time zone,compareceu boolean,convite_partilha_enviado boolean DEFAULT false,convite_partilha_enviado_em timestamp with time zone,cancelada boolean DEFAULT false,cancelada_em timestamp with time zone,cancelada_por uuid,motivo_cancelamento text,CONSTRAINT inscricoes_pkey PRIMARY KEY (id),CONSTRAINT inscricoes_cerimonia_id_fkey FOREIGN KEY (cerimonia_id) REFERENCES public.cerimonias(id),CONSTRAINT inscricoes_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.profiles(id),CONSTRAINT inscricoes_cancelada_por_fkey FOREIGN KEY (cancelada_por) REFERENCES auth.users(id));CREATE TABLE public.inscricoes_cursos (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,curso_id uuid NOT NULL,data_inscricao timestamp with time zone DEFAULT now(),forma_pagamento text,pago boolean DEFAULT false,observacoes text,CONSTRAINT inscricoes_cursos_pkey PRIMARY KEY (id),CONSTRAINT inscricoes_cursos_curso_id_fkey FOREIGN KEY (curso_id) REFERENCES public.cursos_eventos(id),CONSTRAINT inscricoes_cursos_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.profiles(id));CREATE TABLE public.lista_espera_cerimonias (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,cerimonia_id uuid NOT NULL,posicao integer NOT NULL DEFAULT 1,notificado boolean DEFAULT false,notificado_em timestamp with time zone,created_at timestamp with time zone DEFAULT now(),CONSTRAINT lista_espera_cerimonias_pkey PRIMARY KEY (id),CONSTRAINT lista_espera_cerimonias_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),CONSTRAINT lista_espera_cerimonias_cerimonia_id_fkey FOREIGN KEY (cerimonia_id) REFERENCES public.cerimonias(id));CREATE TABLE public.materiais (id uuid NOT NULL DEFAULT uuid_generate_v4(),titulo text NOT NULL,resumo text NOT NULL,conteudo text NOT NULL,imagem_url text,categoria text NOT NULL DEFAULT 'geral'::text,publicado boolean DEFAULT false,destaque boolean DEFAULT false,autor_id uuid,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT materiais_pkey PRIMARY KEY (id),CONSTRAINT materiais_autor_id_fkey FOREIGN KEY (autor_id) REFERENCES public.profiles(id));CREATE TABLE public.materiais_comentarios (id uuid NOT NULL DEFAULT gen_random_uuid(),material_id uuid NOT NULL,user_id uuid NOT NULL,texto text NOT NULL,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT materiais_comentarios_pkey PRIMARY KEY (id),CONSTRAINT materiais_comentarios_material_id_fkey FOREIGN KEY (material_id) REFERENCES public.materiais(id),CONSTRAINT materiais_comentarios_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.materiais_curtidas (id uuid NOT NULL DEFAULT gen_random_uuid(),material_id uuid NOT NULL,user_id uuid NOT NULL,created_at timestamp with time zone DEFAULT now(),CONSTRAINT materiais_curtidas_pkey PRIMARY KEY (id),CONSTRAINT materiais_curtidas_material_id_fkey FOREIGN KEY (material_id) REFERENCES public.materiais(id),CONSTRAINT materiais_curtidas_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.medicinas (id uuid NOT NULL DEFAULT uuid_generate_v4(),nome text NOT NULL,descricao text,beneficios text,contraindicacoes text,funcionamento text,recomendacoes_pre_pos text,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),CONSTRAINT medicinas_pkey PRIMARY KEY (id));CREATE TABLE public.mensagens (id uuid NOT NULL DEFAULT gen_random_uuid(),conversa_id uuid NOT NULL,autor_id uuid NOT NULL,conteudo text NOT NULL,lida boolean DEFAULT false,created_at timestamp with time zone DEFAULT now(),CONSTRAINT mensagens_pkey PRIMARY KEY (id),CONSTRAINT mensagens_conversa_id_fkey FOREIGN KEY (conversa_id) REFERENCES public.conversas(id),CONSTRAINT mensagens_autor_id_fkey FOREIGN KEY (autor_id) REFERENCES auth.users(id));CREATE TABLE public.metas_financeiras (id uuid NOT NULL DEFAULT gen_random_uuid(),nome text NOT NULL,tipo text NOT NULL CHECK (tipo = ANY (ARRAY['receita'::text, 'economia'::text, 'reducao_despesa'::text])),valor_meta integer NOT NULL,valor_atual integer DEFAULT 0,mes integer NOT NULL CHECK (mes >= 1 AND mes <= 12),ano integer NOT NULL,categoria_id uuid,descricao text,ativo boolean DEFAULT true,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT metas_financeiras_pkey PRIMARY KEY (id),CONSTRAINT metas_financeiras_categoria_id_fkey FOREIGN KEY (categoria_id) REFERENCES public.categorias_financeiras(id));CREATE TABLE public.notificacoes (id uuid NOT NULL DEFAULT gen_random_uuid(),tipo text NOT NULL,titulo text NOT NULL,mensagem text NOT NULL,dados jsonb,lida boolean DEFAULT false,created_at timestamp with time zone DEFAULT now(),user_id uuid,url text,CONSTRAINT notificacoes_pkey PRIMARY KEY (id),CONSTRAINT notificacoes_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.pagamentos (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,inscricao_id uuid,produto_id uuid,tipo character varying NOT NULL CHECK (tipo::text = ANY (ARRAY['cerimonia'::character varying, 'produto'::character varying, 'curso'::character varying]::text[])),valor_centavos integer NOT NULL,descricao text,mp_preference_id character varying,mp_payment_id character varying,mp_status character varying DEFAULT 'pending'::character varying,mp_status_detail character varying,mp_payment_method character varying,mp_external_reference character varying,metadata jsonb DEFAULT '{}'::jsonb,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),paid_at timestamp with time zone,CONSTRAINT pagamentos_pkey PRIMARY KEY (id),CONSTRAINT pagamentos_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),CONSTRAINT pagamentos_inscricao_id_fkey FOREIGN KEY (inscricao_id) REFERENCES public.inscricoes(id),CONSTRAINT pagamentos_produto_id_fkey FOREIGN KEY (produto_id) REFERENCES public.produtos(id));CREATE TABLE public.permissoes (id uuid NOT NULL DEFAULT gen_random_uuid(),nome character varying NOT NULL UNIQUE,descricao text,categoria character varying NOT NULL,created_at timestamp with time zone DEFAULT now(),CONSTRAINT permissoes_pkey PRIMARY KEY (id));CREATE TABLE public.pos_cerimonia (id uuid NOT NULL DEFAULT uuid_generate_v4(),user_id uuid NOT NULL,data timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),como_se_sentiu text,emocoes text,visoes text,dificuldades text,sonhos text,sugestoes text,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),CONSTRAINT pos_cerimonia_pkey PRIMARY KEY (id),CONSTRAINT pos_cerimonia_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id));CREATE TABLE public.produtos (id uuid NOT NULL DEFAULT gen_random_uuid(),nome character varying NOT NULL,descricao text,preco integer NOT NULL,preco_promocional integer,categoria character varying,imagem_url text,estoque integer DEFAULT 0,ativo boolean DEFAULT true,destaque boolean DEFAULT false,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),arquivo_url text,paginas integer,is_ebook boolean DEFAULT false,tipo_produto text DEFAULT 'produto'::text CHECK (tipo_produto = ANY (ARRAY['produto'::text, 'livro'::text, 'ebook'::text])),CONSTRAINT produtos_pkey PRIMARY KEY (id));CREATE TABLE public.profiles (id uuid NOT NULL,full_name text,birth_date date,referral_source text,referral_name text,created_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now()),email_notifications boolean DEFAULT true,whatsapp_notifications boolean DEFAULT true,avatar_url text,bloqueado boolean DEFAULT false,bloqueado_em timestamp with time zone,bloqueado_por uuid,motivo_bloqueio text,bloqueado_cerimonias boolean DEFAULT false,bloqueado_cursos boolean DEFAULT false,CONSTRAINT profiles_pkey PRIMARY KEY (id),CONSTRAINT profiles_id_fkey FOREIGN KEY (id) REFERENCES auth.users(id),CONSTRAINT profiles_bloqueado_por_fkey FOREIGN KEY (bloqueado_por) REFERENCES auth.users(id));CREATE TABLE public.roles (id uuid NOT NULL DEFAULT uuid_generate_v4(),role text NOT NULL UNIQUE,CONSTRAINT roles_pkey PRIMARY KEY (id));CREATE TABLE public.tipos_consagracao (id uuid NOT NULL DEFAULT gen_random_uuid(),nome character varying NOT NULL UNIQUE,descricao text,ativo boolean DEFAULT true,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),CONSTRAINT tipos_consagracao_pkey PRIMARY KEY (id));CREATE TABLE public.transacoes_financeiras (id uuid NOT NULL DEFAULT gen_random_uuid(),tipo text NOT NULL CHECK (tipo = ANY (ARRAY['entrada'::text, 'saida'::text])),categoria_id uuid,descricao text NOT NULL,valor integer NOT NULL,data date NOT NULL DEFAULT CURRENT_DATE,forma_pagamento text,referencia_tipo text,referencia_id uuid,observacoes text,created_by uuid,created_at timestamp with time zone DEFAULT now(),updated_at timestamp with time zone DEFAULT now(),reconciliada boolean DEFAULT false,reconciliada_em timestamp with time zone,reconciliada_por uuid,CONSTRAINT transacoes_financeiras_pkey PRIMARY KEY (id),CONSTRAINT transacoes_financeiras_categoria_id_fkey FOREIGN KEY (categoria_id) REFERENCES public.categorias_financeiras(id),CONSTRAINT transacoes_financeiras_created_by_fkey FOREIGN KEY (created_by) REFERENCES auth.users(id),CONSTRAINT transacoes_financeiras_reconciliada_por_fkey FOREIGN KEY (reconciliada_por) REFERENCES auth.users(id));CREATE TABLE public.user_permissoes (id uuid NOT NULL DEFAULT gen_random_uuid(),user_id uuid NOT NULL,permissao_id uuid NOT NULL,concedido_por uuid,created_at timestamp with time zone DEFAULT now(),CONSTRAINT user_permissoes_pkey PRIMARY KEY (id),CONSTRAINT user_permissoes_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),CONSTRAINT user_permissoes_permissao_id_fkey FOREIGN KEY (permissao_id) REFERENCES public.permissoes(id),CONSTRAINT user_permissoes_concedido_por_fkey FOREIGN KEY (concedido_por) REFERENCES auth.users(id));CREATE TABLE public.user_roles (id uuid NOT NULL DEFAULT uuid_generate_v4(),user_id uuid NOT NULL,role_id uuid NOT NULL,CONSTRAINT user_roles_pkey PRIMARY KEY (id),CONSTRAINT user_roles_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),CONSTRAINT user_roles_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(id));
